{"version":3,"sources":["components/header/header.module.css","components/food_detail/food_detail.module.css","components/food_item/food_item.module.css","app.module.css","components/food_list/food_list.module.css","components/login/login.module.css","components/food_detail/food_detail.jsx","components/food_item/food_item.jsx","components/food_list/food_list.jsx","components/header/header.jsx","components/login/login.jsx","components/logout/logout.jsx","app.jsx","service/firebase.js","index.js","service/auth_service.js"],"names":["module","exports","FoodDetail","food","className","styles","section","src","image","alt","detail","title","dishTypes","instructions","FoodItem","React","forwardRef","ref","onFoodClick","box","onClick","img","FoodList","foods","foodBox","map","id","Header","onRefreshClick","onLogout","header","leftbox","reloadBox","rightbox","logout","Login","authService","history","useHistory","goToHome","userId","push","pathname","state","useEffect","onAuthChange","user","uid","login","button","then","data","Logout","App","useRef","useState","setFoods","isSelectedFood","setIsSelectedFood","isFoodOpen","setIsFoodOpen","isRefresh","setIsRefresh","selectFood","oldstate","myHeaders","Headers","append","fetch","method","headers","redirect","response","json","result","recipes","catch","error","console","log","checkIfClickedOutside","e","current","contains","target","document","addEventListener","removeEventListener","app","exact","path","render","list","firebaseApp","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","appId","authProvider","auth","GoogleAuthProvider","signInWithPopup","signOut","onUserChanged","onAuthStateChanged","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.971e314e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__m3SYP\",\"leftbox\":\"header_leftbox__2iO45\",\"title\":\"header_title__3on4u\",\"foodIcon\":\"header_foodIcon__lQnTW\",\"reloadBox\":\"header_reloadBox__2OoDl\",\"reloadBtn\":\"header_reloadBtn__2bmN1\",\"spin\":\"header_spin__1aP_t\",\"like\":\"header_like__2A3_Q\",\"logout\":\"header_logout__Uq8E4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"food_detail_section__1BYkb\",\"detail\":\"food_detail_detail__3Z-uT\",\"title\":\"food_detail_title__36ueN\",\"dishTypes\":\"food_detail_dishTypes__15IMP\",\"instructions\":\"food_detail_instructions__2PFoc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"food_item_box__uBsKN\",\"food\":\"food_item_food__36t_-\",\"img\":\"food_item_img__2LPGT\",\"title\":\"food_item_title__QYCCo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__39-cA\",\"content\":\"app_content__11Wkf\",\"list\":\"app_list__1mW6y\",\"root\":\"app_root__24CXf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"foodBox\":\"food_list_foodBox__1ikCP\",\"foods\":\"food_list_foods__1fXdi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__1hoOo\",\"list\":\"login_list__p9K4f\",\"item\":\"login_item__2jQiQ\",\"button\":\"login_button__11kG4\"};","import React from \"react\";\r\nimport styles from \"./food_detail.module.css\";\r\n\r\nconst FoodDetail = ({ food }) => (\r\n  <section className={styles.section}>\r\n    <img src={food.image} alt=\"\" />\r\n    <div className={styles.detail}>\r\n      <div className={styles.title}>Name : {food.title}</div>\r\n      <div className={styles.dishTypes}>DishTypes : {food.dishTypes}</div>\r\n      <div className={styles.instructions}>\r\n        Instructions : {food.instructions}\r\n      </div>\r\n    </div>\r\n  </section>\r\n);\r\n\r\nexport default FoodDetail;\r\n","import React from \"react\";\r\nimport styles from \"./food_item.module.css\";\r\n\r\nconst FoodItem = React.forwardRef(({ food, onFoodClick }, ref) => {\r\n  return (\r\n    <div className={styles.box} onClick={() => onFoodClick(food)} ref={ref}>\r\n      <div className={styles.food}>\r\n        <img className={styles.img} src={food.image} alt=\"food\" />\r\n      </div>\r\n      <p className={styles.title}>{food.title}</p>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default FoodItem;\r\n","import React from \"react\";\r\nimport FoodItem from \"../food_item/food_item\";\r\nimport styles from \"./food_list.module.css\";\r\n\r\nconst FoodList = React.forwardRef(({ foods, onFoodClick }, ref) => {\r\n  return (\r\n    <section className={styles.foodBox}>\r\n      {/* <div className={styles.sidebarLeft}>AD</div> */}\r\n      <ul className={styles.foods}>\r\n        {foods &&\r\n          foods.map((food) => (\r\n            <FoodItem\r\n              key={food.id}\r\n              food={food}\r\n              onFoodClick={onFoodClick}\r\n              ref={ref}\r\n            />\r\n          ))}\r\n      </ul>\r\n      {/* <div className={styles.sidebarRight}>AD</div> */}\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default FoodList;\r\n","import styles from \"./header.module.css\";\r\nimport React from \"react\";\r\n\r\nconst Header = ({ onRefreshClick, onLogout }) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.leftbox}>\r\n        {/* <img\r\n          className={styles.foodIcon}\r\n          src=\"https://github.com/Sweetpotatopizza/random-food/blob/main/public/images/reloadIcon.png\"\r\n          alt=\"logo\"\r\n        /> */}\r\n        <h1 className={styles.title}>Random Food</h1>\r\n        <button className={styles.reloadBox} onClick={onRefreshClick}>\r\n          Refresh\r\n          {/* <img\r\n            className={styles.reloadBtn}\r\n            src=\"/images/reload.png\"\r\n            alt=\"reload\"\r\n          /> */}\r\n        </button>\r\n      </div>\r\n      {/* fontawesome needed */}\r\n      <div className={styles.rightbox}>\r\n        {/* <button className={styles.like}>Like</button> */}\r\n        {onLogout && (\r\n          <button className={styles.logout} onClick={onLogout}>\r\n            Logout\r\n          </button>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useEffect } from \"react/cjs/react.development\";\r\nimport Header from \"../header/header\";\r\nimport styles from \"./login.module.css\";\r\n\r\nconst Login = ({ authService }) => {\r\n  const history = useHistory();\r\n  const goToHome = (userId) => {\r\n    history.push({\r\n      pathname: \"/random-food/home\",\r\n      state: { id: userId },\r\n    });\r\n  };\r\n\r\n  const onLogin = () => {\r\n    authService //\r\n      .login()\r\n      .then((data) => goToHome(data.user.uid));\r\n  };\r\n\r\n  useEffect(() => {\r\n    authService.onAuthChange((user) => {\r\n      user && goToHome(user.uid);\r\n    });\r\n  });\r\n\r\n  return (\r\n    <section className={styles.login}>\r\n      <h1>Login</h1>\r\n      <button className={styles.button} onClick={onLogin}>\r\n        Login by Google\r\n      </button>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\r\nimport styles from \"./logout.module.css\";\r\nimport { useHistory } from \"react-router\";\r\nimport Header from \"../header/header\";\r\n\r\nconst Logout = ({ authService, onRefreshClick }) => {\r\n  const history = useHistory();\r\n  const onLogout = () => {\r\n    authService.logout();\r\n  };\r\n\r\n  useEffect(() => {\r\n    authService.onAuthChange((user) => {\r\n      if (!user) {\r\n        history.push(\"/random-food/\");\r\n      }\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Header onLogout={onLogout} onRefreshClick={onRefreshClick}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n","import { useEffect, useState, useRef } from \"react\";\r\nimport { BrowserRouter, Route, Switch, useHistory } from \"react-router-dom\";\r\nimport styles from \"./app.module.css\";\r\nimport FoodDetail from \"./components/food_detail/food_detail\";\r\nimport FoodList from \"./components/food_list/food_list\";\r\nimport Header from \"./components/header/header\";\r\nimport Login from \"./components/login/login\";\r\nimport Logout from \"./components/logout/logout\";\r\n\r\n// function Content({ authService }) {\r\n//   const history = useHistory();\r\n//   const onLogout = () => {\r\n//     authService.logout();\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     authService.onAuthChange((user) => {\r\n//       if (!user) {\r\n//         history.push(\"/random-food/\");\r\n//       }\r\n//     });\r\n//   });\r\n\r\n//   return (\r\n//     <div>\r\n//       <button onClick={onLogout}>Click me</button>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\nfunction App({ authService }) {\r\n  const ref = useRef();\r\n  const [foods, setFoods] = useState([]);\r\n  const [isSelectedFood, setIsSelectedFood] = useState();\r\n  const [isFoodOpen, setIsFoodOpen] = useState(false);\r\n  const [isRefresh, setIsRefresh] = useState(false);\r\n\r\n  const selectFood = (food) => {\r\n    setIsSelectedFood(food);\r\n  };\r\n\r\n  const onRefreshClick = () => {\r\n    setIsRefresh((oldstate) => !oldstate);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n    const requestOptions = {\r\n      method: \"GET\",\r\n      headers: myHeaders,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    fetch(\r\n      \"https://api.spoonacular.com/recipes/random?number=4&apiKey=92cedfb0b9e844679738e6c6c90cd453\",\r\n      requestOptions\r\n    )\r\n      .then((response) => response.json())\r\n      .then((result) => setFoods(result.recipes))\r\n      .catch((error) => console.log(\"error\", error));\r\n  }, [isRefresh]);\r\n\r\n  useEffect(() => {\r\n    const checkIfClickedOutside = (e) => {\r\n      if (isFoodOpen && ref.current && !ref.current.contains(e.target)) {\r\n        setIsFoodOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", checkIfClickedOutside);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", checkIfClickedOutside);\r\n    };\r\n  }, [isFoodOpen]);\r\n\r\n  return (\r\n    <div className={styles.app}>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/random-food/\"\r\n            render={() => <Login authService={authService} />}\r\n          />\r\n\r\n          <Route\r\n            path=\"/random-food/home\"\r\n            render={() => (\r\n              <div>\r\n                <Logout\r\n                  onRefreshClick={onRefreshClick}\r\n                  authService={authService}\r\n                />\r\n                <section>\r\n                  {/* <div className={styles.detail}> */}\r\n                  <div>\r\n                    {isFoodOpen && <FoodDetail food={isSelectedFood} />}\r\n                  </div>\r\n\r\n                  <div\r\n                    className={styles.list}\r\n                    onClick={() => setIsFoodOpen((oldstate) => !oldstate)}\r\n                  >\r\n                    <FoodList\r\n                      foods={foods}\r\n                      onFoodClick={selectFood}\r\n                      ref={ref}\r\n                    />\r\n                  </div>\r\n                </section>\r\n              </div>\r\n            )}\r\n          />\r\n          <Route path=\"*\">\r\n            <h2>Page Not Found</h2>\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// Import the functions you need from the SDKs you need\r\n// import { initializeApp } from \"firebase/app\";\r\nimport firebase from \"firebase\";\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DB_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n};\r\n\r\n// console.log(process.env.REACT_APP_FIREBASE_API_KEY);\r\n// Initialize Firebase\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nexport default firebaseApp;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./app\";\r\nimport AuthService from \"./service/auth_service\";\r\n\r\nconst authService = new AuthService();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App authService={authService} />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import firebase from \"firebase\";\r\nimport firebaseApp from \"./firebase\";\r\n\r\nclass AuthService {\r\n  login() {\r\n    const authProvider = new firebase.auth.GoogleAuthProvider();\r\n    return firebaseApp.auth().signInWithPopup(authProvider);\r\n  }\r\n\r\n  logout() {\r\n    firebase.auth().signOut();\r\n  }\r\n\r\n  //keep user login when they visited again\r\n  onAuthChange(onUserChanged) {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      onUserChanged(user);\r\n    });\r\n  }\r\n}\r\n\r\nexport default AuthService;\r\n"],"sourceRoot":""}